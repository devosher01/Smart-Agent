{
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_identityRegistry",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "OwnableInvalidOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "OwnableUnauthorizedAccount",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "validationId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "agentTokenId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "taskId",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "outputHash",
          "type": "bytes32"
        },
        {
          "indexed": false,
          "internalType": "enum ERC8004ValidationRegistry.ValidationType",
          "name": "validationType",
          "type": "uint8"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "isValid",
          "type": "bool"
        }
      ],
      "name": "ValidationRecorded",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "agentValidations",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "agentTokenId",
          "type": "uint256"
        }
      ],
      "name": "getAgentValidations",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "validationId",
          "type": "uint256"
        }
      ],
      "name": "getValidation",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "agentTokenId",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "taskId",
              "type": "string"
            },
            {
              "internalType": "bytes32",
              "name": "outputHash",
              "type": "bytes32"
            },
            {
              "internalType": "bytes32",
              "name": "proofHash",
              "type": "bytes32"
            },
            {
              "internalType": "address",
              "name": "validator",
              "type": "address"
            },
            {
              "internalType": "enum ERC8004ValidationRegistry.ValidationType",
              "name": "validationType",
              "type": "uint8"
            },
            {
              "internalType": "bool",
              "name": "isValid",
              "type": "bool"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "metadataURI",
              "type": "string"
            }
          ],
          "internalType": "struct ERC8004ValidationRegistry.ValidationProof",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "outputHash",
          "type": "bytes32"
        }
      ],
      "name": "getValidationByOutput",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "taskId",
          "type": "string"
        }
      ],
      "name": "getValidationByTask",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "agentTokenId",
          "type": "uint256"
        }
      ],
      "name": "getValidationStats",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "totalValidations",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "validCount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "invalidCount",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "identityRegistry",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes32",
          "name": "",
          "type": "bytes32"
        }
      ],
      "name": "outputHashToValidation",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "agentTokenId",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "taskId",
          "type": "string"
        },
        {
          "internalType": "bytes32",
          "name": "outputHash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "proofHash",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "validator",
          "type": "address"
        },
        {
          "internalType": "enum ERC8004ValidationRegistry.ValidationType",
          "name": "validationType",
          "type": "uint8"
        },
        {
          "internalType": "bool",
          "name": "isValid",
          "type": "bool"
        },
        {
          "internalType": "string",
          "name": "metadataURI",
          "type": "string"
        }
      ],
      "name": "recordValidation",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_identityRegistry",
          "type": "address"
        }
      ],
      "name": "setIdentityRegistry",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "name": "taskToValidation",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "validations",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "agentTokenId",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "taskId",
          "type": "string"
        },
        {
          "internalType": "bytes32",
          "name": "outputHash",
          "type": "bytes32"
        },
        {
          "internalType": "bytes32",
          "name": "proofHash",
          "type": "bytes32"
        },
        {
          "internalType": "address",
          "name": "validator",
          "type": "address"
        },
        {
          "internalType": "enum ERC8004ValidationRegistry.ValidationType",
          "name": "validationType",
          "type": "uint8"
        },
        {
          "internalType": "bool",
          "name": "isValid",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "metadataURI",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b506040516112ff3803806112ff83398101604081905261002f916100d4565b338061005557604051631e4fbdf760e01b81526000600482015260240160405180910390fd5b61005e81610084565b50600680546001600160a01b0319166001600160a01b0392909216919091179055610104565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6000602082840312156100e657600080fd5b81516001600160a01b03811681146100fd57600080fd5b9392505050565b6111ec806101136000396000f3fe608060405234801561001057600080fd5b50600436106100f55760003560e01c80638da5cb5b11610097578063e806de2811610066578063e806de2814610234578063f2fde38b1461025f578063f75213b414610272578063fd838d3a1461028557600080fd5b80638da5cb5b146101d5578063cbf3f861146101e6578063d037a7a3146101f9578063e5229d181461022157600080fd5b80638392ae5c116100d35780638392ae5c14610162578063864421fc1461018257806387d83f75146101955780638d5d0c2d146101b557600080fd5b80630bc1a0a7146100fa578063134e18f41461012d578063715018a614610158575b600080fd5b61011a610108366004610bc7565b60046020526000908152604090205481565b6040519081526020015b60405180910390f35b600654610140906001600160a01b031681565b6040516001600160a01b039091168152602001610124565b6101606102b3565b005b610175610170366004610bc7565b6102c7565b6040516101249190610c68565b61011a610190366004610db7565b6104dc565b61011a6101a3366004610bc7565b60009081526004602052604090205490565b6101c86101c3366004610bc7565b610504565b6040516101249190610df4565b6000546001600160a01b0316610140565b6101606101f4366004610e54565b610566565b61020c610207366004610bc7565b610590565b60405161012499989796959493929190610e76565b61011a61022f366004610efd565b6106ff565b61011a610242366004610db7565b805160208183018101805160038252928201919093012091525481565b61016061026d366004610e54565b6109e4565b61011a610280366004610fb9565b610a22565b610298610293366004610bc7565b610a53565b60408051938452602084019290925290820152606001610124565b6102bb610b4a565b6102c56000610b77565b565b604080516101208101825260008082526060602083018190529282018190528282018190526080820181905260a0820181905260c0820181905260e0820152610100810191909152600082815260016020818152604092839020835161012081019094528054845291820180549184019161034190610fdb565b80601f016020809104026020016040519081016040528092919081815260200182805461036d90610fdb565b80156103ba5780601f1061038f576101008083540402835291602001916103ba565b820191906000526020600020905b81548152906001019060200180831161039d57829003601f168201915b505050918352505060028201546020820152600382015460408201526004808301546001600160a01b0381166060840152608090920191600160a01b900460ff169081111561040b5761040b610c30565b600481111561041c5761041c610c30565b81526004820154600160a81b900460ff16151560208201526005820154604082015260068201805460609092019161045390610fdb565b80601f016020809104026020016040519081016040528092919081815260200182805461047f90610fdb565b80156104cc5780601f106104a1576101008083540402835291602001916104cc565b820191906000526020600020905b8154815290600101906020018083116104af57829003601f168201915b5050505050815250509050919050565b60006003826040516104ee9190611015565b9081526020016040518091039020549050919050565b60008181526002602090815260409182902080548351818402810184019094528084526060939283018282801561055a57602002820191906000526020600020905b815481526020019060010190808311610546575b50505050509050919050565b61056e610b4a565b600680546001600160a01b0319166001600160a01b0392909216919091179055565b6001602081905260009182526040909120805491810180546105b190610fdb565b80601f01602080910402602001604051908101604052809291908181526020018280546105dd90610fdb565b801561062a5780601f106105ff5761010080835404028352916020019161062a565b820191906000526020600020905b81548152906001019060200180831161060d57829003601f168201915b5050506002840154600385015460048601546005870154600688018054979894979396506001600160a01b038316955060ff600160a01b8404811695600160a81b909404169391929161067c90610fdb565b80601f01602080910402602001604051908101604052809291908181526020018280546106a890610fdb565b80156106f55780601f106106ca576101008083540402835291602001916106f5565b820191906000526020600020905b8154815290600101906020018083116106d857829003601f168201915b5050505050905089565b6006546000906001600160a01b031661075f5760405162461bcd60e51b815260206004820152601960248201527f4964656e74697479207265676973747279206e6f74207365740000000000000060448201526064015b60405180910390fd5b60038860405161076f9190611015565b9081526020016040518091039020546000146107dd5760405162461bcd60e51b815260206004820152602760248201527f56616c69646174696f6e20666f722074686973207461736b20616c72656164796044820152662065786973747360c81b6064820152608401610756565b600580549060006107ed83611031565b9190505550600060055490506040518061012001604052808b81526020018a8152602001898152602001888152602001876001600160a01b0316815260200186600481111561083e5761083e610c30565b81526020018515158152602001428152602001848152506001600083815260200190815260200160002060008201518160000155602082015181600101908161088791906110a7565b5060408201516002820155606082015160038201556080820151600480830180546001600160a01b039093166001600160a01b031984168117825560a08601519391926001600160a81b03199092161790600160a01b9084908111156108ef576108ef610c30565b021790555060c0820151600482018054911515600160a81b0260ff60a81b1990921691909117905560e08201516005820155610100820151600682019061093690826110a7565b50505060008a81526002602090815260408083208054600181018255908452919092200182905551819060039061096e908c90611015565b90815260200160405180910390208190555080600460008a81526020019081526020016000208190555089817f435f5c8037ff9c43cfe843ed22e0995ec0113122dcea9e864377009765a831e78b8b89896040516109cf9493929190611167565b60405180910390a39998505050505050505050565b6109ec610b4a565b6001600160a01b038116610a1657604051631e4fbdf760e01b815260006004820152602401610756565b610a1f81610b77565b50565b60026020528160005260406000208181548110610a3e57600080fd5b90600052602060002001600091509150505481565b60008060008060026000868152602001908152602001600020805480602002602001604051908101604052809291908181526020018280548015610ab657602002820191906000526020600020905b815481526020019060010190808311610aa2575b505050505090508051935060005b8151811015610b415760016000838381518110610ae357610ae36111a0565b6020026020010151815260200190815260200160002060040160159054906101000a900460ff1615610b215783610b1981611031565b945050610b2f565b82610b2b81611031565b9350505b80610b3981611031565b915050610ac4565b50509193909250565b6000546001600160a01b031633146102c55760405163118cdaa760e01b8152336004820152602401610756565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b600060208284031215610bd957600080fd5b5035919050565b60005b83811015610bfb578181015183820152602001610be3565b50506000910152565b60008151808452610c1c816020860160208601610be0565b601f01601f19169290920160200192915050565b634e487b7160e01b600052602160045260246000fd5b60058110610c6457634e487b7160e01b600052602160045260246000fd5b9052565b602081528151602082015260006020830151610120806040850152610c91610140850183610c04565b915060408501516060850152606085015160808501526080850151610cc160a08601826001600160a01b03169052565b5060a0850151610cd460c0860182610c46565b5060c085015180151560e08601525060e085015161010085810191909152850151848303601f190182860152610d0a8382610c04565b9695505050505050565b634e487b7160e01b600052604160045260246000fd5b600082601f830112610d3b57600080fd5b813567ffffffffffffffff80821115610d5657610d56610d14565b604051601f8301601f19908116603f01168101908282118183101715610d7e57610d7e610d14565b81604052838152866020858801011115610d9757600080fd5b836020870160208301376000602085830101528094505050505092915050565b600060208284031215610dc957600080fd5b813567ffffffffffffffff811115610de057600080fd5b610dec84828501610d2a565b949350505050565b6020808252825182820181905260009190848201906040850190845b81811015610e2c57835183529284019291840191600101610e10565b50909695505050505050565b80356001600160a01b0381168114610e4f57600080fd5b919050565b600060208284031215610e6657600080fd5b610e6f82610e38565b9392505050565b60006101208b8352806020840152610e908184018c610c04565b604084018b9052606084018a90526001600160a01b03891660808501529050610ebc60a0840188610c46565b85151560c08401528460e0840152828103610100840152610edd8185610c04565b9c9b505050505050505050505050565b80358015158114610e4f57600080fd5b600080600080600080600080610100898b031215610f1a57600080fd5b88359750602089013567ffffffffffffffff80821115610f3957600080fd5b610f458c838d01610d2a565b985060408b0135975060608b01359650610f6160808c01610e38565b955060a08b0135915060058210610f7757600080fd5b819450610f8660c08c01610eed565b935060e08b0135915080821115610f9c57600080fd5b50610fa98b828c01610d2a565b9150509295985092959890939650565b60008060408385031215610fcc57600080fd5b50508035926020909101359150565b600181811c90821680610fef57607f821691505b60208210810361100f57634e487b7160e01b600052602260045260246000fd5b50919050565b60008251611027818460208701610be0565b9190910192915050565b60006001820161105157634e487b7160e01b600052601160045260246000fd5b5060010190565b601f8211156110a257600081815260208120601f850160051c8101602086101561107f5750805b601f850160051c820191505b8181101561109e5782815560010161108b565b5050505b505050565b815167ffffffffffffffff8111156110c1576110c1610d14565b6110d5816110cf8454610fdb565b84611058565b602080601f83116001811461110a57600084156110f25750858301515b600019600386901b1c1916600185901b17855561109e565b600085815260208120601f198616915b828110156111395788860151825594840194600190910190840161111a565b50858210156111575787850151600019600388901b60f8161c191681555b5050505050600190811b01905550565b60808152600061117a6080830187610c04565b905084602083015261118f6040830185610c46565b821515606083015295945050505050565b634e487b7160e01b600052603260045260246000fdfea2646970667358221220fc281afb42664f70c8ae448a308a17104cd468ff34fb86e13ddb5a2fa5e67cb964736f6c63430008140033"
}